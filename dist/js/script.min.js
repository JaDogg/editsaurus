angular.module("editSaurus",["ngSanitize"]),angular.module("editSaurus").directive("checkText",["$timeout","$filter","$sce",function(e,l,t){function n(n,r,i,o){"use strict";function a(e){return e.replace(/(<[\w\W]*?)(style)([\w\W]*?>)/g,function(e,l,t,n){return l+"style_replace"+n})}function s(e){return e.replace(/<(?!\s*\/?\s*p\b)[^>]*>/gi,"")}var y;n.selectedChecks=["adverb","fillerWords","passiveVoice","lexicalIllusions"],n.output="<p>Checked text copy will go here.</p>",n.input=angular.element(r[0].querySelector("#writing-check-input")),n.toggleCheck=function(e){var l=n.selectedChecks.indexOf(e);-1!==l?(n.selectedChecks.splice(l,1),n.updateOutput()):(n.selectedChecks.push(e),n.updateOutput())},n.updateOutput=function(){n.output=t.trustAsHtml(l("highlightText")(n.input.html(),n.selectedChecks))},n.processText=function(){e.cancel(y),y=e(function(){n.updateOutput()},200)},n.input.on("paste",function(){e(function(){n.input.html(a(s(n.input.html())))},0)})}return{restrict:"A",link:n}}]).directive("definitionList",[function(){function e(e,l,t){"use strict";e.currentDefinition="adverb"}return{restrict:"A",link:e}}]).filter("highlightText",[function(){return function(e,l){"use strict";var t={adverb:{name:"adverb",regex:/(?!ally|anomaly|assembly|belly|bully|dolly|doily|family|fly|gully|hillbilly|holly|homily|jelly|lily|monopoly|panoply|potbelly|rally|reply|supply|tally|underbelly|barfly|blowfly|botfly|butterfly|dragonfly|firefly|gadfly|horsefly|mayfly|medfly|apply|bely|comply|dally|imply|multiply|outfly|ply|rely|reply|supply|authorly|beastly|brotherly|cowardly|fatherly|gentlemanly|granddaughterly|housekeeperly|husbandly|kingly|landlordly|manly|marksmanly|matronly|miserly|motherly|neighborly|queenly|saintly|scholarly|southerly|wifely|womanly|daily|easterly|hourly|monthly|nightly|northeasterly|northerly|northwesterly|quarterly|rarely|timely|weekly|westerly|wobbly|yearly|bristly|bubbly|crinkly|crumbly|crumply|cuddly|curly|frizzly|giggly|rumply|smelly|sparkly|wriggly|wrinkly|bodily|burly|chilly|comely|costly|courtly|dastardly|deadly|deathly|disorderly|early|frilly|friendly|ghastly|goodly|gravelly|grisly|heavanly|hilly|holy|homely|jolly|kindly|knurly|leisurely|likely|lively|lonely|lovely|lowly|mannerly|mealy|measly|melancholy|oily|only|orderly|otherworldly|pearly|pebbly|pimply|scaly|shapely|sickly|silly|slatternly|slovenly|sly|spindly|sprightly|squiggly|stately|steely|surly|treacly|ugly|ungainly|unlikely|wily|wooly|worldly)\b\w*ly\b/gi,title:"This adverb could be omitted or replaced with a stronger verb."},fillerWords:{name:"filler-words",regex:/\b(very|several|some|many|most|few|vast|just|quite|often|various|a number of|really|so|that|and then|but)\b/gi,title:"This word may be unnecessary and not add anything of value."},passiveVoice:{name:"passive-voice",regex:/\b(is|isn't|are|aren't|am|am not|was|wasn't|were|weren't|had|hadn't|has been|have been|had been|will be|being)\b\s+\b(\w*ed|arisen|babysat|been|beaten|become|bent|begun|bet|bound|bitten|bled|blown|broken|bred|brought|broadcast|built|bought|caught|chosen|come|cost|cut|dealt|dug|done|drawn|drunk|driven|eaten|fallen|fed|felt|fought|found|flown|forbidden|forgotten|forgiven|frozen|gotten|given|gone|grown|hung|had|heard|hidden|hit|held|hurt|kept|known|laid|led|left|lent|let|lain|lit|lost|made|meant|met|paid|put|quit|read|ridden|rung|risen|run|said|seen|sold|sent|set|shaken|shone|shot|shown|shut|sung|sunk|sat|slept|slid|spoken|spent|spun|spread|stood|stolen|stuck|stung|struck|sworn|swept|swum|swung|taken|taught|torn|told|thought|thrown|understood|woken|worn|won|withdrawn|written|burnt|dreamt|learnt|smelt)\b/gi,title:"This may be an instance of passive voice. Consider an active sentence structure."},lexicalIllusions:{name:"lexical-illusions",regex:/\b(\w+)\b\s+\1\b/gi,title:"This may be a lexical illusion. Double check that the repeated word was intentional."},misusedWords:{name:"misused-words",regex:/\b(their|they're|there|your|you're|its|it's|whose|who's|accept|except|affect|effect|allusion|illusion|capital|capitol|climactic|climatic|elicit|illicit|emigrate|immigrate|principle|principal|than|then|to|too|two|lie|lay|set|sit|suppose to|use to|towards|anyways|could care less|intensive purposes)\b/gi,title:"This word is commonly mistaken for another. Double check that the correct word is used."},pronoun:{name:"pronoun",regex:/\b(he|she|it|they|we|you|I|that|this)\b/gi,title:"Double check that it is clear what this pronoun refers to and that you don't have too many close together."}};if(!e)return"<p>Checked text copy will go here.</p>";e="<p>"+e.replace(/\r\n|\n\r|\n\n|\r\r/g,"</p><p>")+"</p>",e=e.replace(/\r|\n/g,"<br>");var n,r=0,i=l.length;for(r=0;i>r;r++)e=e.replace(t[l[r]].regex,'<span class="'+t[l[r]].name+'">$&</span>');for(r=0;i>r;r++)n=new RegExp('<span class="'+t[l[r]].name+'">',"g"),console.log("input1: ",e),e=e.replace(n,'<span class="'+t[l[r]].name+'" data-tooltip="'+t[l[r]].title+'">'),console.log("input2: ",e);return e}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiZGlyZWN0aXZlIiwiJHRpbWVvdXQiLCIkZmlsdGVyIiwiJHNjZSIsImxpbmsiLCIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsIiRuZ01vZGVsIiwicmVwbGFjZVN0eWxlQXR0ciIsInN0ciIsInJlcGxhY2UiLCJhIiwiYiIsImMiLCJkIiwicmVtb3ZlQWxsVGFncyIsInRpbWVyIiwic2VsZWN0ZWRDaGVja3MiLCJvdXRwdXQiLCJpbnB1dCIsImVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidG9nZ2xlQ2hlY2siLCJjaGVjayIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInVwZGF0ZU91dHB1dCIsInB1c2giLCJ0cnVzdEFzSHRtbCIsImh0bWwiLCJwcm9jZXNzVGV4dCIsImNhbmNlbCIsIm9uIiwicmVzdHJpY3QiLCJjdXJyZW50RGVmaW5pdGlvbiIsImZpbHRlciIsImNob2ljZXMiLCJjaGVja09wdGlvbnMiLCJhZHZlcmIiLCJuYW1lIiwicmVnZXgiLCJ0aXRsZSIsImZpbGxlcldvcmRzIiwicGFzc2l2ZVZvaWNlIiwibGV4aWNhbElsbHVzaW9ucyIsIm1pc3VzZWRXb3JkcyIsInByb25vdW4iLCJyZSIsImkiLCJtYXgiLCJsZW5ndGgiLCJSZWdFeHAiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFHQUEsUUFBUUMsT0FBTyxjQUNiLGVBR0ZELFFBQVFDLE9BQU8sY0FDWkMsVUFBVSxhQUFjLFdBQVksVUFBVyxPQUFRLFNBQVVDLEVBQVVDLEVBQVNDLEdBQ25GLFFBQVNDLEdBQUtDLEVBQVFDLEVBQVVDLEVBQVFDLEdBQ3RDLFlBcUNBLFNBQVNDLEdBQWtCQyxHQUN6QixNQUFPQSxHQUFJQyxRQUFRLGlDQUFrQyxTQUFVQyxFQUFHQyxFQUFHQyxFQUFHQyxHQUN0RSxNQUFPRixHQUFJLGdCQUFrQkUsSUFJakMsUUFBU0MsR0FBZU4sR0FDdEIsTUFBT0EsR0FBSUMsUUFBUSw0QkFBNEIsSUExQ2pELEdBQUlNLEVBRUpaLEdBQU9hLGdCQUFrQixTQUFVLGNBQWUsZUFBZ0Isb0JBQ2xFYixFQUFPYyxPQUFTLHlDQUNoQmQsRUFBT2UsTUFBUXRCLFFBQVF1QixRQUFRZixFQUFTLEdBQUdnQixjQUFjLHlCQUV6RGpCLEVBQU9rQixZQUFjLFNBQVVDLEdBQzdCLEdBQUlDLEdBQVFwQixFQUFPYSxlQUFlUSxRQUFRRixFQUU1QixNQUFWQyxHQUNGcEIsRUFBT2EsZUFBZVMsT0FBT0YsRUFBTyxHQUNwQ3BCLEVBQU91QixpQkFFUHZCLEVBQU9hLGVBQWVXLEtBQUtMLEdBQzNCbkIsRUFBT3VCLGlCQUlYdkIsRUFBT3VCLGFBQWUsV0FDcEJ2QixFQUFPYyxPQUFTaEIsRUFBSzJCLFlBQVk1QixFQUFRLGlCQUFpQkcsRUFBT2UsTUFBTVcsT0FBUTFCLEVBQU9hLGtCQUd4RmIsRUFBTzJCLFlBQWMsV0FDbkIvQixFQUFTZ0MsT0FBT2hCLEdBQ2hCQSxFQUFRaEIsRUFBUyxXQUNmSSxFQUFPdUIsZ0JBQ04sTUFHTHZCLEVBQU9lLE1BQU1jLEdBQUcsUUFBUyxXQUN2QmpDLEVBQVMsV0FDUEksRUFBT2UsTUFBTVcsS0FBS3RCLEVBQWlCTyxFQUFjWCxFQUFPZSxNQUFNVyxXQUM3RCxLQWNQLE9BQ0VJLFNBQVUsSUFDVi9CLEtBQU1BLE1BSVRKLFVBQVUsa0JBQW1CLFdBQzVCLFFBQVNJLEdBQUtDLEVBQVFDLEVBQVVDLEdBQzlCLFlBRUFGLEdBQU8rQixrQkFBb0IsU0FHN0IsT0FDRUQsU0FBVSxJQUNWL0IsS0FBTUEsTUFJVGlDLE9BQU8saUJBQWtCLFdBQ3hCLE1BQU8sVUFBVWpCLEVBQU9rQixHQUN0QixZQUVBLElBQUlDLElBQ0ZDLFFBQ0VDLEtBQU0sU0FDTkMsTUFBTyxtdENBQ1BDLE1BQU8sa0VBRVRDLGFBQ0VILEtBQU0sZUFDTkMsTUFBTyxnSEFDUEMsTUFBTywrREFFVEUsY0FDRUosS0FBTSxnQkFDTkMsTUFBTyxnekJBQ1BDLE1BQU8sb0ZBRVRHLGtCQUNFTCxLQUFNLG9CQUNOQyxNQUFPLHFCQUNQQyxNQUFPLHdGQUVUSSxjQUNFTixLQUFNLGdCQUNOQyxNQUFPLGdUQUNQQyxNQUFPLDJGQUVUSyxTQUNFUCxLQUFNLFVBQ05DLE1BQU8sNENBQ1BDLE1BQU8sOEdBSVgsS0FBS3ZCLEVBQ0gsTUFBTyx3Q0FJVEEsR0FBUSxNQUFRQSxFQUFNVCxRQUFRLHVCQUF3QixXQUFhLE9BRW5FUyxFQUFRQSxFQUFNVCxRQUFRLFNBQVUsT0FDaEMsSUFFRXNDLEdBRkVDLEVBQUksRUFDTkMsRUFBTWIsRUFBUWMsTUFHaEIsS0FBS0YsRUFBSSxFQUFPQyxFQUFKRCxFQUFTQSxJQUVuQjlCLEVBQVFBLEVBQU1ULFFBQVE0QixFQUFhRCxFQUFRWSxJQUFJUixNQUFPLGdCQUFrQkgsRUFBYUQsRUFBUVksSUFBSVQsS0FBTyxjQUkxRyxLQUFLUyxFQUFJLEVBQU9DLEVBQUpELEVBQVNBLElBRW5CRCxFQUFLLEdBQUlJLFFBQU8sZ0JBQWtCZCxFQUFhRCxFQUFRWSxJQUFJVCxLQUFPLEtBQU0sS0FFeEVhLFFBQVFDLElBQUksV0FBWW5DLEdBQ3hCQSxFQUFRQSxFQUFNVCxRQUFRc0MsRUFBSSxnQkFBa0JWLEVBQWFELEVBQVFZLElBQUlULEtBQU8sbUJBQXFCRixFQUFhRCxFQUFRWSxJQUFJUCxNQUFRLE1BQ2xJVyxRQUFRQyxJQUFJLFdBQVluQyxFQUcxQixPQUFPQSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgYW5ndWxhciAqL1xuLyogZ2xvYmFsIGNvbnNvbGUgKi9cblxuYW5ndWxhci5tb2R1bGUoJ2VkaXRTYXVydXMnLCBbXG4gICduZ1Nhbml0aXplJ1xuXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdlZGl0U2F1cnVzJylcbiAgLmRpcmVjdGl2ZSgnY2hlY2tUZXh0JywgWyckdGltZW91dCcsICckZmlsdGVyJywgJyRzY2UnLCBmdW5jdGlvbiAoJHRpbWVvdXQsICRmaWx0ZXIsICRzY2UpIHtcbiAgICBmdW5jdGlvbiBsaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJG5nTW9kZWwpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgdmFyIHRpbWVyO1xuXG4gICAgICAkc2NvcGUuc2VsZWN0ZWRDaGVja3MgPSBbJ2FkdmVyYicsICdmaWxsZXJXb3JkcycsICdwYXNzaXZlVm9pY2UnLCAnbGV4aWNhbElsbHVzaW9ucyddO1xuICAgICAgJHNjb3BlLm91dHB1dCA9ICc8cD5DaGVja2VkIHRleHQgY29weSB3aWxsIGdvIGhlcmUuPC9wPic7XG4gICAgICAkc2NvcGUuaW5wdXQgPSBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3dyaXRpbmctY2hlY2staW5wdXQnKSk7XG5cbiAgICAgICRzY29wZS50b2dnbGVDaGVjayA9IGZ1bmN0aW9uIChjaGVjaykge1xuICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuc2VsZWN0ZWRDaGVja3MuaW5kZXhPZihjaGVjayk7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICRzY29wZS5zZWxlY3RlZENoZWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICRzY29wZS51cGRhdGVPdXRwdXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRDaGVja3MucHVzaChjaGVjayk7XG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZU91dHB1dCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUudXBkYXRlT3V0cHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUub3V0cHV0ID0gJHNjZS50cnVzdEFzSHRtbCgkZmlsdGVyKCdoaWdobGlnaHRUZXh0JykoJHNjb3BlLmlucHV0Lmh0bWwoKSwgJHNjb3BlLnNlbGVjdGVkQ2hlY2tzKSk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucHJvY2Vzc1RleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRzY29wZS51cGRhdGVPdXRwdXQoKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5pbnB1dC5vbigncGFzdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRzY29wZS5pbnB1dC5odG1sKHJlcGxhY2VTdHlsZUF0dHIocmVtb3ZlQWxsVGFncygkc2NvcGUuaW5wdXQuaHRtbCgpKSkpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiByZXBsYWNlU3R5bGVBdHRyIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oPFtcXHdcXFddKj8pKHN0eWxlKShbXFx3XFxXXSo/PikvZywgZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICAgICAgICByZXR1cm4gYiArICdzdHlsZV9yZXBsYWNlJyArIGQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVBbGxUYWdzIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC88KD8hXFxzKlxcLz9cXHMqcFxcYilbXj5dKj4vZ2ksJycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgbGluazogbGlua1xuICAgIH07XG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ2RlZmluaXRpb25MaXN0JywgW2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBsaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAkc2NvcGUuY3VycmVudERlZmluaXRpb24gPSAnYWR2ZXJiJztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIGxpbms6IGxpbmtcbiAgICB9O1xuICB9XSlcblxuICAuZmlsdGVyKCdoaWdobGlnaHRUZXh0JywgW2Z1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBjaG9pY2VzKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgIHZhciBjaGVja09wdGlvbnMgPSB7XG4gICAgICAgIGFkdmVyYjoge1xuICAgICAgICAgIG5hbWU6ICdhZHZlcmInLFxuICAgICAgICAgIHJlZ2V4OiAvKD8hYWxseXxhbm9tYWx5fGFzc2VtYmx5fGJlbGx5fGJ1bGx5fGRvbGx5fGRvaWx5fGZhbWlseXxmbHl8Z3VsbHl8aGlsbGJpbGx5fGhvbGx5fGhvbWlseXxqZWxseXxsaWx5fG1vbm9wb2x5fHBhbm9wbHl8cG90YmVsbHl8cmFsbHl8cmVwbHl8c3VwcGx5fHRhbGx5fHVuZGVyYmVsbHl8YmFyZmx5fGJsb3dmbHl8Ym90Zmx5fGJ1dHRlcmZseXxkcmFnb25mbHl8ZmlyZWZseXxnYWRmbHl8aG9yc2VmbHl8bWF5Zmx5fG1lZGZseXxhcHBseXxiZWx5fGNvbXBseXxkYWxseXxpbXBseXxtdWx0aXBseXxvdXRmbHl8cGx5fHJlbHl8cmVwbHl8c3VwcGx5fGF1dGhvcmx5fGJlYXN0bHl8YnJvdGhlcmx5fGNvd2FyZGx5fGZhdGhlcmx5fGdlbnRsZW1hbmx5fGdyYW5kZGF1Z2h0ZXJseXxob3VzZWtlZXBlcmx5fGh1c2JhbmRseXxraW5nbHl8bGFuZGxvcmRseXxtYW5seXxtYXJrc21hbmx5fG1hdHJvbmx5fG1pc2VybHl8bW90aGVybHl8bmVpZ2hib3JseXxxdWVlbmx5fHNhaW50bHl8c2Nob2xhcmx5fHNvdXRoZXJseXx3aWZlbHl8d29tYW5seXxkYWlseXxlYXN0ZXJseXxob3VybHl8bW9udGhseXxuaWdodGx5fG5vcnRoZWFzdGVybHl8bm9ydGhlcmx5fG5vcnRod2VzdGVybHl8cXVhcnRlcmx5fHJhcmVseXx0aW1lbHl8d2Vla2x5fHdlc3Rlcmx5fHdvYmJseXx5ZWFybHl8YnJpc3RseXxidWJibHl8Y3JpbmtseXxjcnVtYmx5fGNydW1wbHl8Y3VkZGx5fGN1cmx5fGZyaXp6bHl8Z2lnZ2x5fHJ1bXBseXxzbWVsbHl8c3BhcmtseXx3cmlnZ2x5fHdyaW5rbHl8Ym9kaWx5fGJ1cmx5fGNoaWxseXxjb21lbHl8Y29zdGx5fGNvdXJ0bHl8ZGFzdGFyZGx5fGRlYWRseXxkZWF0aGx5fGRpc29yZGVybHl8ZWFybHl8ZnJpbGx5fGZyaWVuZGx5fGdoYXN0bHl8Z29vZGx5fGdyYXZlbGx5fGdyaXNseXxoZWF2YW5seXxoaWxseXxob2x5fGhvbWVseXxqb2xseXxraW5kbHl8a251cmx5fGxlaXN1cmVseXxsaWtlbHl8bGl2ZWx5fGxvbmVseXxsb3ZlbHl8bG93bHl8bWFubmVybHl8bWVhbHl8bWVhc2x5fG1lbGFuY2hvbHl8b2lseXxvbmx5fG9yZGVybHl8b3RoZXJ3b3JsZGx5fHBlYXJseXxwZWJibHl8cGltcGx5fHNjYWx5fHNoYXBlbHl8c2lja2x5fHNpbGx5fHNsYXR0ZXJubHl8c2xvdmVubHl8c2x5fHNwaW5kbHl8c3ByaWdodGx5fHNxdWlnZ2x5fHN0YXRlbHl8c3RlZWx5fHN1cmx5fHRyZWFjbHl8dWdseXx1bmdhaW5seXx1bmxpa2VseXx3aWx5fHdvb2x5fHdvcmxkbHkpXFxiXFx3Kmx5XFxiL2dpLFxuICAgICAgICAgIHRpdGxlOiAnVGhpcyBhZHZlcmIgY291bGQgYmUgb21pdHRlZCBvciByZXBsYWNlZCB3aXRoIGEgc3Ryb25nZXIgdmVyYi4nXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGxlcldvcmRzOiB7XG4gICAgICAgICAgbmFtZTogJ2ZpbGxlci13b3JkcycsXG4gICAgICAgICAgcmVnZXg6IC9cXGIodmVyeXxzZXZlcmFsfHNvbWV8bWFueXxtb3N0fGZld3x2YXN0fGp1c3R8cXVpdGV8b2Z0ZW58dmFyaW91c3xhIG51bWJlciBvZnxyZWFsbHl8c298dGhhdHxhbmQgdGhlbnxidXQpXFxiL2dpLFxuICAgICAgICAgIHRpdGxlOiAnVGhpcyB3b3JkIG1heSBiZSB1bm5lY2Vzc2FyeSBhbmQgbm90IGFkZCBhbnl0aGluZyBvZiB2YWx1ZS4nXG4gICAgICAgIH0sXG4gICAgICAgIHBhc3NpdmVWb2ljZToge1xuICAgICAgICAgIG5hbWU6ICdwYXNzaXZlLXZvaWNlJyxcbiAgICAgICAgICByZWdleDogL1xcYihpc3xpc24ndHxhcmV8YXJlbid0fGFtfGFtIG5vdHx3YXN8d2Fzbid0fHdlcmV8d2VyZW4ndHxoYWR8aGFkbid0fGhhcyBiZWVufGhhdmUgYmVlbnxoYWQgYmVlbnx3aWxsIGJlfGJlaW5nKVxcYlxccytcXGIoXFx3KmVkfGFyaXNlbnxiYWJ5c2F0fGJlZW58YmVhdGVufGJlY29tZXxiZW50fGJlZ3VufGJldHxib3VuZHxiaXR0ZW58YmxlZHxibG93bnxicm9rZW58YnJlZHxicm91Z2h0fGJyb2FkY2FzdHxidWlsdHxib3VnaHR8Y2F1Z2h0fGNob3Nlbnxjb21lfGNvc3R8Y3V0fGRlYWx0fGR1Z3xkb25lfGRyYXdufGRydW5rfGRyaXZlbnxlYXRlbnxmYWxsZW58ZmVkfGZlbHR8Zm91Z2h0fGZvdW5kfGZsb3dufGZvcmJpZGRlbnxmb3Jnb3R0ZW58Zm9yZ2l2ZW58ZnJvemVufGdvdHRlbnxnaXZlbnxnb25lfGdyb3dufGh1bmd8aGFkfGhlYXJkfGhpZGRlbnxoaXR8aGVsZHxodXJ0fGtlcHR8a25vd258bGFpZHxsZWR8bGVmdHxsZW50fGxldHxsYWlufGxpdHxsb3N0fG1hZGV8bWVhbnR8bWV0fHBhaWR8cHV0fHF1aXR8cmVhZHxyaWRkZW58cnVuZ3xyaXNlbnxydW58c2FpZHxzZWVufHNvbGR8c2VudHxzZXR8c2hha2VufHNob25lfHNob3R8c2hvd258c2h1dHxzdW5nfHN1bmt8c2F0fHNsZXB0fHNsaWR8c3Bva2VufHNwZW50fHNwdW58c3ByZWFkfHN0b29kfHN0b2xlbnxzdHVja3xzdHVuZ3xzdHJ1Y2t8c3dvcm58c3dlcHR8c3d1bXxzd3VuZ3x0YWtlbnx0YXVnaHR8dG9ybnx0b2xkfHRob3VnaHR8dGhyb3dufHVuZGVyc3Rvb2R8d29rZW58d29ybnx3b258d2l0aGRyYXdufHdyaXR0ZW58YnVybnR8ZHJlYW10fGxlYXJudHxzbWVsdClcXGIvZ2ksXG4gICAgICAgICAgdGl0bGU6ICdUaGlzIG1heSBiZSBhbiBpbnN0YW5jZSBvZiBwYXNzaXZlIHZvaWNlLiBDb25zaWRlciBhbiBhY3RpdmUgc2VudGVuY2Ugc3RydWN0dXJlLidcbiAgICAgICAgfSxcbiAgICAgICAgbGV4aWNhbElsbHVzaW9uczoge1xuICAgICAgICAgIG5hbWU6ICdsZXhpY2FsLWlsbHVzaW9ucycsXG4gICAgICAgICAgcmVnZXg6IC9cXGIoXFx3KylcXGJcXHMrXFwxXFxiL2dpLFxuICAgICAgICAgIHRpdGxlOiAnVGhpcyBtYXkgYmUgYSBsZXhpY2FsIGlsbHVzaW9uLiBEb3VibGUgY2hlY2sgdGhhdCB0aGUgcmVwZWF0ZWQgd29yZCB3YXMgaW50ZW50aW9uYWwuJ1xuICAgICAgICB9LFxuICAgICAgICBtaXN1c2VkV29yZHM6IHtcbiAgICAgICAgICBuYW1lOiAnbWlzdXNlZC13b3JkcycsXG4gICAgICAgICAgcmVnZXg6IC9cXGIodGhlaXJ8dGhleSdyZXx0aGVyZXx5b3VyfHlvdSdyZXxpdHN8aXQnc3x3aG9zZXx3aG8nc3xhY2NlcHR8ZXhjZXB0fGFmZmVjdHxlZmZlY3R8YWxsdXNpb258aWxsdXNpb258Y2FwaXRhbHxjYXBpdG9sfGNsaW1hY3RpY3xjbGltYXRpY3xlbGljaXR8aWxsaWNpdHxlbWlncmF0ZXxpbW1pZ3JhdGV8cHJpbmNpcGxlfHByaW5jaXBhbHx0aGFufHRoZW58dG98dG9vfHR3b3xsaWV8bGF5fHNldHxzaXR8c3VwcG9zZSB0b3x1c2UgdG98dG93YXJkc3xhbnl3YXlzfGNvdWxkIGNhcmUgbGVzc3xpbnRlbnNpdmUgcHVycG9zZXMpXFxiL2dpLFxuICAgICAgICAgIHRpdGxlOiAnVGhpcyB3b3JkIGlzIGNvbW1vbmx5IG1pc3Rha2VuIGZvciBhbm90aGVyLiBEb3VibGUgY2hlY2sgdGhhdCB0aGUgY29ycmVjdCB3b3JkIGlzIHVzZWQuJ1xuICAgICAgICB9LFxuICAgICAgICBwcm9ub3VuOiB7XG4gICAgICAgICAgbmFtZTogJ3Byb25vdW4nLFxuICAgICAgICAgIHJlZ2V4OiAvXFxiKGhlfHNoZXxpdHx0aGV5fHdlfHlvdXxJfHRoYXR8dGhpcylcXGIvZ2ksXG4gICAgICAgICAgdGl0bGU6ICdEb3VibGUgY2hlY2sgdGhhdCBpdCBpcyBjbGVhciB3aGF0IHRoaXMgcHJvbm91biByZWZlcnMgdG8gYW5kIHRoYXQgeW91IGRvblxcJ3QgaGF2ZSB0b28gbWFueSBjbG9zZSB0b2dldGhlci4nXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuICc8cD5DaGVja2VkIHRleHQgY29weSB3aWxsIGdvIGhlcmUuPC9wPic7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZXMgcGFyYWdyYXBocyB3aGVyZSBsaW5lIGJyZWFrcyBvY2N1ciBpbiB0aGUgc3VibWl0dGVkIHRleHRcbiAgICAgIGlucHV0ID0gJzxwPicgKyBpbnB1dC5yZXBsYWNlKC9cXHJcXG58XFxuXFxyfFxcblxcbnxcXHJcXHIvZywgJzwvcD48cD4nKSArICc8L3A+JztcbiAgICAgIC8vIENyZWF0ZXMgcGFyYWdyYXBocyB3aGVyZSBsaW5lIGJyZWFrcyBvY2N1ciBpbiB0aGUgc3VibWl0dGVkIHRleHRcbiAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXFxyfFxcbi9nLCAnPGJyPicpO1xuICAgICAgdmFyIGkgPSAwLFxuICAgICAgICBtYXggPSBjaG9pY2VzLmxlbmd0aCxcbiAgICAgICAgcmU7XG4gICAgICAvLyBMb29wcyB0aHJvdWdoIHRoZSBzZWxlY3RlZCBjaGVjayBvcHRpb25zIHRvIGFwcGx5IGVhY2ggb25lIHRvIHRoZSBzdWJtaXR0ZWQgdGV4dFxuICAgICAgZm9yIChpID0gMDsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgIC8vIFdyYXBzIGVhY2ggbWF0Y2ggd2l0aCBhIHNwYW4gdGFnIGFuZCBhIGNsYXNzXG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZShjaGVja09wdGlvbnNbY2hvaWNlc1tpXV0ucmVnZXgsICc8c3BhbiBjbGFzcz1cIicgKyBjaGVja09wdGlvbnNbY2hvaWNlc1tpXV0ubmFtZSArICdcIj4kJjwvc3Bhbj4nKTtcbiAgICAgIH1cblxuICAgICAgLy8gTG9vcHMgdGhyb3VnaCB0ZXh0IHRvIGFkZCB0aXRsZXMgdG8gZWFjaCBtYXRjaC4gSXQgaXMgaGFuZGxlZCB0aGlzIHdheSB0byBhdm9pZCBpbmNvcnJlY3RseSBmaW5kaW5nIG1hdGNoZXMgaW4gdGhlIHRpdGxlIHRleHQuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgLy8gUmVndWxhciBleHByZXNzaW9uIHRvIGxvb2sgZm9yIHNwYW5zIGFuZCBjbGFzc2VzIGZvciBlYWNoIGNoZWNrXG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cCgnPHNwYW4gY2xhc3M9XCInICsgY2hlY2tPcHRpb25zW2Nob2ljZXNbaV1dLm5hbWUgKyAnXCI+JywgJ2cnKTtcbiAgICAgICAgLy8gQWRkcyB0aXRsZXMgaW4gYWRkaXRpb24gdG8gY2xhc3NlcyB0byBlYWNoIHNwYW4gdGFnXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbnB1dDE6ICcsIGlucHV0KTtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKHJlLCAnPHNwYW4gY2xhc3M9XCInICsgY2hlY2tPcHRpb25zW2Nob2ljZXNbaV1dLm5hbWUgKyAnXCIgZGF0YS10b29sdGlwPVwiJyArIGNoZWNrT3B0aW9uc1tjaG9pY2VzW2ldXS50aXRsZSArICdcIj4nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2lucHV0MjogJywgaW5wdXQpO1xuICAgICAgfVxuICAgICAgLy8gUmV0dXJucyBlZGl0ZWQgdGV4dCBmb3Igb3V0cHV0XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfTtcbiAgfV0pXG47XG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
